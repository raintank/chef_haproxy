#
# This file is generated by Chef
# Do not edit, changes will be overwritten
#
LoadPlugin "<%= @name %>"

<% if not @config.empty? %>
<Plugin "<%= @name %>">
  <%= "<Node \"#{node.name}\">" if @name == "write_graphite" || @name == "redis" %>
  <%= "<URL #{collectd_option(@config.delete("URL"))}>" if @name == "write_http" %>
  <%= "<Database #{collectd_option(@config.delete("Database"))}>" if @name == "mysql" %>
  <% @config.each_pair do |key, value|
    if value.is_a? Array
      value.each do |subvalue| %>
  <%= key %> <%= subvalue %>
  <% end else %>
  <%= key %> <%= value %>
  <% end end %>
  <%= "</Node>" if @name == "write_graphite" %>
  <%= "</URL >" if @name == "write_http" %>
  <%= "</Database>" if @name == "mysql" %>
</Plugin>
<% end %>

